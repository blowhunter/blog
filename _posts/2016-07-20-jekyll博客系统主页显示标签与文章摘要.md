---
layout: post                                                                                                                                                            
title: jekyll博客系统主页显示标签与文章摘要
category: jekyll
tagline: "jekyll"
tags: jekyll 标签 摘要
published: true
---
{% include JB/setup %}
### jekyll博客系统主页显示标签与文章摘要
---
- 首先，我们先实现如何在主页显示每篇文章的标签。这里我们先了解下jekyll用到的几个变量。这里先介绍三个全局变量（即在整个网站都可以调用的变量），site、page、post。其中site全站可以访问page与post的信息。例如：site.pages可以获取所有page的清单。而page与post又根据不同的调用方式来获取其对应参数的值。比如：<!-- excerpt -->
  <pre>
  #我们通过for循环来获取site.posts中每篇post的内容
  &#123;% for post in site.posts %&#125;
    ...
  &#123;% endfor %&#125;

  #通过post.title获取post的标题，post.date获取post的发布时间,post.tags来获取post的标签
  &#123;% for post in site.posts %&#125;
     &#123;&#123; post.title &#125;&#125;
     发布于 &#123;&#123; post.date &#125;&#125;
     #因为标签可能是多个，所以这里同样加入一个循环
     &#123;% unless site.tags == empty %&#125;
        &#123;% assign tag_list = post.tags %&#125;
        &#123;% include JB/tags_list %&#125;
     &#123;% endunless %&#125;
  &#123;% endfor %&#125;
  </pre>
  这样就实现基本的tags输出。
- 然后，实现文章的摘要，jekyll已经默认支持自动生成摘要，但是摘要的生成是以&lt;p&gt;标签来做区分的，我们希望控制摘要的生成范围，可以采用添加截断标识来实现。
  第一步，我们需要在_config.yml中设置截断的标识，这里选用的是"&lt;!-- excerpt --&gt;"： 
  <pre>
  excerpt_separator: "&lt;!-- excerpt --&gt;"
  </pre>
  第二步，在文章需要的位置添加这个截断标识。如果在本地调试，重新生成下文章。
  <pre>
  jekyll build
  </pre>
 
  --**本文结束**--
